!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Angular2DI=t():e.Angular2DI=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})};for(var o in r){i(o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);Object.defineProperty(t,"InjectMetadata",{enumerable:!0,get:function(){return r.InjectMetadata}}),Object.defineProperty(t,"OptionalMetadata",{enumerable:!0,get:function(){return r.OptionalMetadata}}),Object.defineProperty(t,"InjectableMetadata",{enumerable:!0,get:function(){return r.InjectableMetadata}}),Object.defineProperty(t,"SelfMetadata",{enumerable:!0,get:function(){return r.SelfMetadata}}),Object.defineProperty(t,"HostMetadata",{enumerable:!0,get:function(){return r.HostMetadata}}),Object.defineProperty(t,"SkipSelfMetadata",{enumerable:!0,get:function(){return r.SkipSelfMetadata}}),Object.defineProperty(t,"DependencyMetadata",{enumerable:!0,get:function(){return r.DependencyMetadata}});var i=n(4),o=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})};for(var a in i){o(a)}var u=n(6);Object.defineProperty(t,"forwardRef",{enumerable:!0,get:function(){return u.forwardRef}}),Object.defineProperty(t,"resolveForwardRef",{enumerable:!0,get:function(){return u.resolveForwardRef}});var s=n(7);Object.defineProperty(t,"Injector",{enumerable:!0,get:function(){return s.Injector}});var c=n(9);Object.defineProperty(t,"Binding",{enumerable:!0,get:function(){return c.Binding}}),Object.defineProperty(t,"ProviderBuilder",{enumerable:!0,get:function(){return c.ProviderBuilder}}),Object.defineProperty(t,"ResolvedFactory",{enumerable:!0,get:function(){return c.ResolvedFactory}}),Object.defineProperty(t,"Dependency",{enumerable:!0,get:function(){return c.Dependency}}),Object.defineProperty(t,"bind",{enumerable:!0,get:function(){return c.bind}}),Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return c.Provider}}),Object.defineProperty(t,"provide",{enumerable:!0,get:function(){return c.provide}});var f=n(15);Object.defineProperty(t,"Key",{enumerable:!0,get:function(){return f.Key}}),Object.defineProperty(t,"TypeLiteral",{enumerable:!0,get:function(){return f.TypeLiteral}});var l=n(17);Object.defineProperty(t,"NoProviderError",{enumerable:!0,get:function(){return l.NoProviderError}}),Object.defineProperty(t,"AbstractProviderError",{enumerable:!0,get:function(){return l.AbstractProviderError}}),Object.defineProperty(t,"CyclicDependencyError",{enumerable:!0,get:function(){return l.CyclicDependencyError}}),Object.defineProperty(t,"InstantiationError",{enumerable:!0,get:function(){return l.InstantiationError}}),Object.defineProperty(t,"InvalidProviderError",{enumerable:!0,get:function(){return l.InvalidProviderError}}),Object.defineProperty(t,"NoAnnotationError",{enumerable:!0,get:function(){return l.NoAnnotationError}}),Object.defineProperty(t,"OutOfBoundsError",{enumerable:!0,get:function(){return l.OutOfBoundsError}});var p=n(18);Object.defineProperty(t,"OpaqueToken",{enumerable:!0,get:function(){return p.OpaqueToken}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.HostMetadata=t.SkipSelfMetadata=t.SelfMetadata=t.InjectableMetadata=t.DependencyMetadata=t.OptionalMetadata=t.InjectMetadata=void 0;var a=n(3),u=function(e,t,n,r){var i,a=arguments.length,u=3>a?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":o(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(u=(3>a?i(u):a>3?i(t,n,u):i(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u},s=function(e,t){return"object"===("undefined"==typeof Reflect?"undefined":o(Reflect))&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},c=t.InjectMetadata=function(){function e(t){r(this,e),this.token=t}return i(e,[{key:"toString",value:function(){return"@Inject("+(0,a.stringify)(this.token)+")"}}]),e}();t.InjectMetadata=c=u([(0,a.CONST)(),s("design:paramtypes",[Object])],c);var f=t.OptionalMetadata=function(){function e(){r(this,e)}return i(e,[{key:"toString",value:function(){return"@Optional()"}}]),e}();t.OptionalMetadata=f=u([(0,a.CONST)(),s("design:paramtypes",[])],f);var l=t.DependencyMetadata=function(){function e(){r(this,e)}return i(e,[{key:"token",get:function(){return null}}]),e}();t.DependencyMetadata=l=u([(0,a.CONST)(),s("design:paramtypes",[])],l);var p=t.InjectableMetadata=function v(){r(this,v)};t.InjectableMetadata=p=u([(0,a.CONST)(),s("design:paramtypes",[])],p);var d=t.SelfMetadata=function(){function e(){r(this,e)}return i(e,[{key:"toString",value:function(){return"@Self()"}}]),e}();t.SelfMetadata=d=u([(0,a.CONST)(),s("design:paramtypes",[])],d);var y=t.SkipSelfMetadata=function(){function e(){r(this,e)}return i(e,[{key:"toString",value:function(){return"@SkipSelf()"}}]),e}();t.SkipSelfMetadata=y=u([(0,a.CONST)(),s("design:paramtypes",[])],y);var h=t.HostMetadata=function(){function e(){r(this,e)}return i(e,[{key:"toString",value:function(){return"@Host()"}}]),e}();t.HostMetadata=h=u([(0,a.CONST)(),s("design:paramtypes",[])],h)},function(e,t){(function(e){"use strict";function n(e){return e.name}function r(){A=!0}function i(){if(A)throw"Cannot enable prod mode after platform setup.";N=!1}function o(){return N}function a(e){return e}function u(){return function(e){return e}}function s(e){return void 0!==e&&null!==e}function c(e){return void 0===e||null===e}function f(e){return"string"==typeof e}function l(e){return"function"==typeof e}function p(e){return l(e)}function d(e){return"object"==typeof e&&null!==e}function y(e){return e instanceof B.Promise}function h(e){return Array.isArray(e)}function v(e){return"number"==typeof e}function g(e){return e instanceof t.Date&&!isNaN(e.valueOf())}function b(){}function m(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.name)return e.name;if(e.overriddenName)return e.overriddenName;var t=e.toString(),n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function w(e){return e}function k(e,t){return e}function j(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function P(e){return e}function _(e){return c(e)?null:e}function O(e){return c(e)?!1:e}function I(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function E(e){console.log(e)}function S(e,t,n){for(var r=t.split("."),i=e;r.length>1;){var o=r.shift();i=i.hasOwnProperty(o)&&s(i[o])?i[o]:i[o]={}}(void 0===i||null===i)&&(i={}),i[r.shift()]=n}function M(){if(c(J))if(s(Symbol)&&s(Symbol.iterator))J=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),t=0;t<e.length;++t){var n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(J=n)}return J}function x(e,t,n,r){var i=n+"\nreturn "+t+"\n//# sourceURL="+e,o=[],a=[];for(var u in r)o.push(u),a.push(r[u]);return(new(Function.bind.apply(Function,[void 0].concat(o.concat(i))))).apply(void 0,a)}var R,C=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};R="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:e:window,t.IS_DART=!1;var B=R;t.global=B,t.Type=Function,t.getTypeNameForDebugging=n,t.Math=B.Math,t.Date=B.Date;var N=!0,A=!1;t.lockMode=r,t.enableProdMode=i,t.assertionsEnabled=o,B.assert=function(e){},t.CONST_EXPR=a,t.CONST=u,t.isPresent=s,t.isBlank=c,t.isString=f,t.isFunction=l,t.isType=p,t.isStringMap=d,t.isPromise=y,t.isArray=h,t.isNumber=v,t.isDate=g,t.noop=b,t.stringify=m,t.serializeEnum=w,t.deserializeEnum=k;var D=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,t){return e.charCodeAt(t)},e.split=function(e,t){return e.split(t)},e.equals=function(e,t){return e===t},e.stripLeft=function(e,t){if(e&&e.length){for(var n=0,r=0;r<e.length&&e[r]==t;r++)n++;e=e.substring(n)}return e},e.stripRight=function(e,t){if(e&&e.length){for(var n=e.length,r=e.length-1;r>=0&&e[r]==t;r--)n--;e=e.substring(0,n)}return e},e.replace=function(e,t,n){return e.replace(t,n)},e.replaceAll=function(e,t,n){return e.replace(t,n)},e.slice=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=null),e.slice(t,null===n?void 0:n)},e.replaceAllMapped=function(e,t,n){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.splice(-2,2),n(e)})},e.contains=function(e,t){return-1!=e.indexOf(t)},e.compare=function(e,t){return t>e?-1:e>t?1:0},e}();t.StringWrapper=D;var F=function(){function e(e){void 0===e&&(e=[]),this.parts=e}return e.prototype.add=function(e){this.parts.push(e)},e.prototype.toString=function(){return this.parts.join("")},e}();t.StringJoiner=F;var T=function(e){function t(t){e.call(this),this.message=t}return C(t,e),t.prototype.toString=function(){return this.message},t}(Error);t.NumberParseError=T;var K=function(){function e(){}return e.toFixed=function(e,t){return e.toFixed(t)},e.equal=function(e,t){return e===t},e.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new T("Invalid integer literal when parsing "+e);return t},e.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var n=parseInt(e,t);if(!isNaN(n))return n}throw new T("Invalid integer literal when parsing "+e+" in base "+t)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}();t.NumberWrapper=K,t.RegExp=B.RegExp;var W=function(){function e(){}return e.create=function(e,t){return void 0===t&&(t=""),t=t.replace(/g/g,""),new B.RegExp(e,t+"g")},e.firstMatch=function(e,t){return e.lastIndex=0,e.exec(t)},e.test=function(e,t){return e.lastIndex=0,e.test(t)},e.matcher=function(e,t){return e.lastIndex=0,{re:e,input:t}},e}();t.RegExpWrapper=W;var L=function(){function e(){}return e.next=function(e){return e.re.exec(e.input)},e}();t.RegExpMatcherWrapper=L;var H=function(){function e(){}return e.apply=function(e,t){return e.apply(null,t)},e}();t.FunctionWrapper=H,t.looseIdentical=j,t.getMapKey=P,t.normalizeBlank=_,t.normalizeBool=O,t.isJsObject=I,t.print=E;var V=function(){function e(){}return e.parse=function(e){return B.JSON.parse(e)},e.stringify=function(e){return B.JSON.stringify(e,null,2)},e}();t.Json=V;var z=function(){function e(){}return e.create=function(e,n,r,i,o,a,u){return void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===u&&(u=0),new t.Date(e,n-1,r,i,o,a,u)},e.fromISOString=function(e){return new t.Date(e)},e.fromMillis=function(e){return new t.Date(e)},e.toMillis=function(e){return e.getTime()},e.now=function(){return new t.Date},e.toJson=function(e){return e.toJSON()},e}();t.DateWrapper=z,t.setValueOnPath=S;var J=null;t.getSymbolIterator=M,t.evalExpression=x}).call(t,function(){return this}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SkipSelf=t.Host=t.Self=t.Injectable=t.Optional=t.Inject=void 0;var r=n(2),i=n(5);t.Inject=(0,i.makeParamDecorator)(r.InjectMetadata),t.Optional=(0,i.makeParamDecorator)(r.OptionalMetadata),t.Injectable=(0,i.makeDecorator)(r.InjectableMetadata),t.Self=(0,i.makeParamDecorator)(r.SelfMetadata),t.Host=(0,i.makeParamDecorator)(r.HostMetadata),t.SkipSelf=(0,i.makeParamDecorator)(r.SkipSelfMetadata)},function(e,t,n){"use strict";function r(e){return(0,c.isFunction)(e)&&e.hasOwnProperty("annotation")&&(e=e.annotation),e}function i(e,t){if(e===Object||e===String||e===Function||e===Number||e===Array)throw new Error("Can not use native "+(0,c.stringify)(e)+" as constructor");if((0,c.isFunction)(e))return e;if(e instanceof Array){var n=e,i=e[e.length-1];if(!(0,c.isFunction)(i))throw new Error("Last position of Class method array must be Function in key "+t+" was '"+(0,c.stringify)(i)+"'");var o=n.length-1;if(o!=i.length)throw new Error("Number of annotations ("+o+") does not match number of arguments ("+i.length+") in the function: "+(0,c.stringify)(i));for(var a=[],u=0,s=n.length-1;s>u;u++){var f=[];a.push(f);var p=n[u];if(p instanceof Array)for(var d=0;d<p.length;d++)f.push(r(p[d]));else(0,c.isFunction)(p)?f.push(r(p)):f.push(p)}return l.defineMetadata("parameters",a,i),i}throw new Error("Only Function or Array is supported in Class definition for key '"+t+"' is '"+(0,c.stringify)(e)+"'")}function o(e){var t=i(e.hasOwnProperty("constructor")?e.constructor:void 0,"constructor"),n=t.prototype;if(e.hasOwnProperty("extends")){if(!(0,c.isFunction)(e["extends"]))throw new Error("Class definition 'extends' property must be a constructor function was: "+(0,c.stringify)(e["extends"]));t.prototype=n=Object.create(e["extends"].prototype)}for(var r in e)"extends"!=r&&"prototype"!=r&&e.hasOwnProperty(r)&&(n[r]=i(e[r],r));return this&&this.annotations instanceof Array&&l.defineMetadata("annotations",this.annotations,t),t.name||(t.overriddenName="class"+f++),t}function a(e){function t(t){var r=new e(t);if(this instanceof e)return r;var i=(0,c.isFunction)(this)&&this.annotations instanceof Array?this.annotations:[];i.push(r);var a=function(e){var t=l.getOwnMetadata("annotations",e);return t=t||[],t.push(r),l.defineMetadata("annotations",t,e),e};return a.annotations=i,a.Class=o,n&&n(a),a}var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return t.prototype=Object.create(e.prototype),t}function u(e){function t(){function t(e,t,r){var i=l.getMetadata("parameters",e);for(i=i||[];i.length<=r;)i.push(null);i[r]=i[r]||[];var o=i[r];return o.push(n),l.defineMetadata("parameters",i,e),e}for(var n=Object.create(e.prototype),r=arguments.length,i=Array(r),o=0;r>o;o++)i[o]=arguments[o];return e.apply(n,i),this instanceof e?n:(t.annotation=n,t)}return t.prototype=Object.create(e.prototype),t}function s(e){function t(){for(var t=Object.create(e.prototype),n=arguments.length,r=Array(n),i=0;n>i;i++)r[i]=arguments[i];return e.apply(t,r),this instanceof e?t:function(e,n){var r=l.getOwnMetadata("propMetadata",e.constructor);r=r||{},r[n]=r[n]||[],r[n].unshift(t),l.defineMetadata("propMetadata",r,e.constructor)}}return t.prototype=Object.create(e.prototype),t}Object.defineProperty(t,"__esModule",{value:!0}),t.Class=o,t.makeDecorator=a,t.makeParamDecorator=u,t.makePropDecorator=s;var c=n(3),f=0,l=c.global.Reflect;if(!l||!l.getMetadata)throw"reflect-metadata shim is required when using class decorators"},function(e,t,n){"use strict";function r(e){return e.__forward_ref__=r,e.toString=function(){return(0,o.stringify)(this())},e}function i(e){return(0,o.isFunction)(e)&&e.hasOwnProperty("__forward_ref__")&&e.__forward_ref__===r?e():e}Object.defineProperty(t,"__esModule",{value:!0}),t.forwardRef=r,t.resolveForwardRef=i;var o=n(3)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return e===t||t===h.PublicAndPrivate||e===h.PublicAndPrivate}function o(e,t){for(var n=[],r=0;r<e._proto.numberOfProviders;++r)n.push(t(e._proto.getProviderAtIndex(r)));return n}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Injector=t.ProviderWithVisibility=t.InjectorDynamicStrategy=t.InjectorInlineStrategy=t.ProtoInjector=t.ProtoInjectorDynamicStrategy=t.ProtoInjectorInlineStrategy=t.Visibility=t.UNDEFINED=void 0;var u=n(8),s=n(9),c=n(17),f=n(3),l=n(15),p=n(2),d=10,y=t.UNDEFINED=(0,f.CONST_EXPR)(new Object),h=t.Visibility=void 0;!function(e){e[e.Public=0]="Public",e[e.Private=1]="Private",e[e.PublicAndPrivate=2]="PublicAndPrivate"}(h||(t.Visibility=h={}));var v=t.ProtoInjectorInlineStrategy=function(){function e(t,n){r(this,e),this.provider0=null,this.provider1=null,this.provider2=null,this.provider3=null,this.provider4=null,this.provider5=null,this.provider6=null,this.provider7=null,this.provider8=null,this.provider9=null,this.keyId0=null,this.keyId1=null,this.keyId2=null,this.keyId3=null,this.keyId4=null,this.keyId5=null,this.keyId6=null,this.keyId7=null,this.keyId8=null,this.keyId9=null,this.visibility0=null,this.visibility1=null,this.visibility2=null,this.visibility3=null,this.visibility4=null,this.visibility5=null,this.visibility6=null,this.visibility7=null,this.visibility8=null,this.visibility9=null;var i=n.length;i>0&&(this.provider0=n[0].provider,this.keyId0=n[0].getKeyId(),this.visibility0=n[0].visibility),i>1&&(this.provider1=n[1].provider,this.keyId1=n[1].getKeyId(),this.visibility1=n[1].visibility),i>2&&(this.provider2=n[2].provider,this.keyId2=n[2].getKeyId(),this.visibility2=n[2].visibility),i>3&&(this.provider3=n[3].provider,this.keyId3=n[3].getKeyId(),this.visibility3=n[3].visibility),i>4&&(this.provider4=n[4].provider,this.keyId4=n[4].getKeyId(),this.visibility4=n[4].visibility),i>5&&(this.provider5=n[5].provider,this.keyId5=n[5].getKeyId(),this.visibility5=n[5].visibility),i>6&&(this.provider6=n[6].provider,this.keyId6=n[6].getKeyId(),this.visibility6=n[6].visibility),i>7&&(this.provider7=n[7].provider,this.keyId7=n[7].getKeyId(),this.visibility7=n[7].visibility),i>8&&(this.provider8=n[8].provider,this.keyId8=n[8].getKeyId(),this.visibility8=n[8].visibility),i>9&&(this.provider9=n[9].provider,this.keyId9=n[9].getKeyId(),this.visibility9=n[9].visibility)}return a(e,[{key:"getProviderAtIndex",value:function(e){if(0==e)return this.provider0;if(1==e)return this.provider1;if(2==e)return this.provider2;if(3==e)return this.provider3;if(4==e)return this.provider4;if(5==e)return this.provider5;if(6==e)return this.provider6;if(7==e)return this.provider7;if(8==e)return this.provider8;if(9==e)return this.provider9;throw new c.OutOfBoundsError(e)}},{key:"createInjectorStrategy",value:function(e){return new m(e,this)}}]),e}(),g=t.ProtoInjectorDynamicStrategy=function(){function e(t,n){r(this,e);var i=n.length;this.providers=u.ListWrapper.createFixedSize(i),this.keyIds=u.ListWrapper.createFixedSize(i),this.visibilities=u.ListWrapper.createFixedSize(i);for(var o=0;i>o;o++)this.providers[o]=n[o].provider,this.keyIds[o]=n[o].getKeyId(),this.visibilities[o]=n[o].visibility}return a(e,[{key:"getProviderAtIndex",value:function(e){if(0>e||e>=this.providers.length)throw new c.OutOfBoundsError(e);return this.providers[e]}},{key:"createInjectorStrategy",value:function(e){return new w(this,e)}}]),e}(),b=t.ProtoInjector=function(){function e(t){r(this,e),this.numberOfProviders=t.length,this._strategy=t.length>d?new g(this,t):new v(this,t)}return a(e,[{key:"getProviderAtIndex",value:function(e){return this._strategy.getProviderAtIndex(e)}}],[{key:"fromResolvedProviders",value:function(t){var n=t.map(function(e){return new k(e,h.Public)});return new e(n)}}]),e}(),m=t.InjectorInlineStrategy=function(){function e(t,n){r(this,e),this.injector=t,this.protoStrategy=n,this.obj0=y,this.obj1=y,this.obj2=y,this.obj3=y,this.obj4=y,this.obj5=y,this.obj6=y,this.obj7=y,this.obj8=y,this.obj9=y}return a(e,[{key:"resetConstructionCounter",value:function(){this.injector._constructionCounter=0}},{key:"instantiateProvider",value:function(e,t){return this.injector._new(e,t)}},{key:"getObjByKeyId",value:function(e,t){var n=this.protoStrategy,r=this.injector;return n.keyId0===e&&i(n.visibility0,t)?(this.obj0===y&&(this.obj0=r._new(n.provider0,n.visibility0)),this.obj0):n.keyId1===e&&i(n.visibility1,t)?(this.obj1===y&&(this.obj1=r._new(n.provider1,n.visibility1)),this.obj1):n.keyId2===e&&i(n.visibility2,t)?(this.obj2===y&&(this.obj2=r._new(n.provider2,n.visibility2)),this.obj2):n.keyId3===e&&i(n.visibility3,t)?(this.obj3===y&&(this.obj3=r._new(n.provider3,n.visibility3)),this.obj3):n.keyId4===e&&i(n.visibility4,t)?(this.obj4===y&&(this.obj4=r._new(n.provider4,n.visibility4)),this.obj4):n.keyId5===e&&i(n.visibility5,t)?(this.obj5===y&&(this.obj5=r._new(n.provider5,n.visibility5)),this.obj5):n.keyId6===e&&i(n.visibility6,t)?(this.obj6===y&&(this.obj6=r._new(n.provider6,n.visibility6)),this.obj6):n.keyId7===e&&i(n.visibility7,t)?(this.obj7===y&&(this.obj7=r._new(n.provider7,n.visibility7)),this.obj7):n.keyId8===e&&i(n.visibility8,t)?(this.obj8===y&&(this.obj8=r._new(n.provider8,n.visibility8)),this.obj8):n.keyId9===e&&i(n.visibility9,t)?(this.obj9===y&&(this.obj9=r._new(n.provider9,n.visibility9)),this.obj9):y}},{key:"getObjAtIndex",value:function(e){if(0==e)return this.obj0;if(1==e)return this.obj1;if(2==e)return this.obj2;if(3==e)return this.obj3;if(4==e)return this.obj4;if(5==e)return this.obj5;if(6==e)return this.obj6;if(7==e)return this.obj7;if(8==e)return this.obj8;if(9==e)return this.obj9;throw new c.OutOfBoundsError(e)}},{key:"getMaxNumberOfObjects",value:function(){return d}}]),e}(),w=t.InjectorDynamicStrategy=function(){function e(t,n){r(this,e),this.protoStrategy=t,this.injector=n,this.objs=u.ListWrapper.createFixedSize(t.providers.length),u.ListWrapper.fill(this.objs,y)}return a(e,[{key:"resetConstructionCounter",value:function(){this.injector._constructionCounter=0}},{key:"instantiateProvider",value:function(e,t){return this.injector._new(e,t)}},{key:"getObjByKeyId",value:function(e,t){for(var n=this.protoStrategy,r=0;r<n.keyIds.length;r++)if(n.keyIds[r]===e&&i(n.visibilities[r],t))return this.objs[r]===y&&(this.objs[r]=this.injector._new(n.providers[r],n.visibilities[r])),this.objs[r];return y}},{key:"getObjAtIndex",value:function(e){if(0>e||e>=this.objs.length)throw new c.OutOfBoundsError(e);return this.objs[e]}},{key:"getMaxNumberOfObjects",value:function(){return this.objs.length}}]),e}(),k=t.ProviderWithVisibility=function(){function e(t,n){r(this,e),this.provider=t,this.visibility=n}return a(e,[{key:"getKeyId",value:function(){return this.provider.key.id}}]),e}(),j=t.Injector=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=arguments.length<=3||void 0===arguments[3]?null:arguments[3],a=arguments.length<=4||void 0===arguments[4]?null:arguments[4];r(this,e),this._isHostBoundary=i,this._depProvider=o,this._debugContext=a,this._constructionCounter=0,this._proto=t,this._parent=n,this._strategy=t._strategy.createInjectorStrategy(this)}return a(e,[{key:"debugContext",value:function(){return this._debugContext()}},{key:"get",value:function(e){return this._getByKey(l.Key.get(e),null,null,!1,h.PublicAndPrivate)}},{key:"getOptional",value:function(e){return this._getByKey(l.Key.get(e),null,null,!0,h.PublicAndPrivate)}},{key:"getAt",value:function(e){return this._strategy.getObjAtIndex(e)}},{key:"resolveAndCreateChild",value:function(t){var n=e.resolve(t);return this.createChildFromResolved(n)}},{key:"createChildFromResolved",value:function(t){var n=t.map(function(e){return new k(e,h.Public)}),r=new b(n),i=new e(r);return i._parent=this,i}},{key:"resolveAndInstantiate",value:function(t){return this.instantiateResolved(e.resolve([t])[0])}},{key:"instantiateResolved",value:function(e){return this._instantiateProvider(e,h.PublicAndPrivate)}},{key:"_new",value:function(e,t){if(this._constructionCounter++>this._strategy.getMaxNumberOfObjects())throw new c.CyclicDependencyError(this,e.key);return this._instantiateProvider(e,t)}},{key:"_instantiateProvider",value:function(e,t){if(e.multiProvider){for(var n=u.ListWrapper.createFixedSize(e.resolvedFactories.length),r=0;r<e.resolvedFactories.length;++r)n[r]=this._instantiate(e,e.resolvedFactories[r],t);return n}return this._instantiate(e,e.resolvedFactories[0],t)}},{key:"_instantiate",value:function(e,t,n){var r,i,o,a,u,s,f,l,p,d,y,h,v,g,b,m,w,k,j,P,_=t.factory,O=t.dependencies,I=O.length;try{r=I>0?this._getByDependency(e,O[0],n):null,i=I>1?this._getByDependency(e,O[1],n):null,o=I>2?this._getByDependency(e,O[2],n):null,a=I>3?this._getByDependency(e,O[3],n):null,u=I>4?this._getByDependency(e,O[4],n):null,s=I>5?this._getByDependency(e,O[5],n):null,f=I>6?this._getByDependency(e,O[6],n):null,l=I>7?this._getByDependency(e,O[7],n):null,p=I>8?this._getByDependency(e,O[8],n):null,d=I>9?this._getByDependency(e,O[9],n):null,y=I>10?this._getByDependency(e,O[10],n):null,h=I>11?this._getByDependency(e,O[11],n):null,v=I>12?this._getByDependency(e,O[12],n):null,g=I>13?this._getByDependency(e,O[13],n):null,b=I>14?this._getByDependency(e,O[14],n):null,m=I>15?this._getByDependency(e,O[15],n):null,w=I>16?this._getByDependency(e,O[16],n):null,k=I>17?this._getByDependency(e,O[17],n):null,j=I>18?this._getByDependency(e,O[18],n):null,P=I>19?this._getByDependency(e,O[19],n):null}catch(E){throw(E instanceof c.AbstractProviderError||E instanceof c.InstantiationError)&&E.addKey(this,e.key),E}var S;try{switch(I){case 0:S=_();break;case 1:S=_(r);break;case 2:S=_(r,i);break;case 3:S=_(r,i,o);break;case 4:S=_(r,i,o,a);break;case 5:S=_(r,i,o,a,u);break;case 6:S=_(r,i,o,a,u,s);break;case 7:S=_(r,i,o,a,u,s,f);break;case 8:S=_(r,i,o,a,u,s,f,l);break;case 9:S=_(r,i,o,a,u,s,f,l,p);break;case 10:S=_(r,i,o,a,u,s,f,l,p,d);break;case 11:S=_(r,i,o,a,u,s,f,l,p,d,y);break;case 12:S=_(r,i,o,a,u,s,f,l,p,d,y,h);break;case 13:S=_(r,i,o,a,u,s,f,l,p,d,y,h,v);break;case 14:S=_(r,i,o,a,u,s,f,l,p,d,y,h,v,g);break;case 15:S=_(r,i,o,a,u,s,f,l,p,d,y,h,v,g,b);break;case 16:S=_(r,i,o,a,u,s,f,l,p,d,y,h,v,g,b,m);break;case 17:S=_(r,i,o,a,u,s,f,l,p,d,y,h,v,g,b,m,w);break;case 18:S=_(r,i,o,a,u,s,f,l,p,d,y,h,v,g,b,m,w,k);break;case 19:S=_(r,i,o,a,u,s,f,l,p,d,y,h,v,g,b,m,w,k,j);break;case 20:S=_(r,i,o,a,u,s,f,l,p,d,y,h,v,g,b,m,w,k,j,P)}}catch(E){throw new c.InstantiationError(this,E,E.stack,e.key)}return S}},{key:"_getByDependency",value:function(e,t,n){var r=(0,f.isPresent)(this._depProvider)?this._depProvider.getDependency(this,e,t):y;return r!==y?r:this._getByKey(t.key,t.lowerBoundVisibility,t.upperBoundVisibility,t.optional,n)}},{key:"_getByKey",value:function(e,t,n,r,i){return e===P?this:n instanceof p.SelfMetadata?this._getByKeySelf(e,r,i):n instanceof p.HostMetadata?this._getByKeyHost(e,r,i,t):this._getByKeyDefault(e,r,i,t)}},{key:"_throwOrNull",value:function(e,t){if(t)return null;throw new c.NoProviderError(this,e)}},{key:"_getByKeySelf",value:function(e,t,n){var r=this._strategy.getObjByKeyId(e.id,n);return r!==y?r:this._throwOrNull(e,t)}},{key:"_getByKeyHost",value:function(e,t,n,r){var i=this;if(r instanceof p.SkipSelfMetadata){if(i._isHostBoundary)return this._getPrivateDependency(e,t,i);i=i._parent}for(;null!=i;){var o=i._strategy.getObjByKeyId(e.id,n);if(o!==y)return o;if((0,f.isPresent)(i._parent)&&i._isHostBoundary)return this._getPrivateDependency(e,t,i);i=i._parent}return this._throwOrNull(e,t)}},{key:"_getPrivateDependency",value:function(e,t,n){var r=n._parent._strategy.getObjByKeyId(e.id,h.Private);return r!==y?r:this._throwOrNull(e,t)}},{key:"_getByKeyDefault",value:function(e,t,n,r){var i=this;for(r instanceof p.SkipSelfMetadata&&(n=i._isHostBoundary?h.PublicAndPrivate:h.Public,i=i._parent);null!=i;){var o=i._strategy.getObjByKeyId(e.id,n);if(o!==y)return o;n=i._isHostBoundary?h.PublicAndPrivate:h.Public,i=i._parent}return this._throwOrNull(e,t)}},{key:"toString",value:function(){return this.displayName}},{key:"hostBoundary",get:function(){return this._isHostBoundary}},{key:"parent",get:function(){return this._parent}},{key:"internalStrategy",get:function(){return this._strategy}},{key:"displayName",get:function(){return"Injector(providers: ["+o(this,function(e){return' "'+e.key.displayName+'" '}).join(", ")+"])"}}],[{key:"resolve",value:function(e){return(0,s.resolveProviders)(e)}},{key:"resolveAndCreate",value:function(t){var n=e.resolve(t);return e.fromResolvedProviders(n)}},{key:"fromResolvedProviders",value:function(t){return new e(b.fromResolvedProviders(t))}},{key:"fromResolvedBindings",value:function(t){return e.fromResolvedProviders(t)}}]),e}(),P=l.Key.get(j)},function(e,t,n){"use strict";function r(e){return o.isJsObject(e)?o.isArray(e)||!(e instanceof t.Map)&&o.getSymbolIterator()in e:!1}function i(e,t){if(o.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[o.getSymbolIterator()]();!(r=i.next()).done;)t(r.value)}var o=n(3);t.Map=o.global.Map,t.Set=o.global.Set;var a=function(){try{if(1===new t.Map([[1,2]]).size)return function(e){return new t.Map(e)}}catch(e){}return function(e){for(var n=new t.Map,r=0;r<e.length;r++){var i=e[r];n.set(i[0],i[1])}return n}}(),u=function(){try{if(new t.Map(new t.Map))return function(e){return new t.Map(e)}}catch(e){}return function(e){var n=new t.Map;return e.forEach(function(e,t){n.set(t,e)}),n}}(),s=function(){return(new t.Map).keys().next?function(e){for(var t,n=e.keys();!(t=n.next()).done;)e.set(t.value,null)}:function(e){e.forEach(function(t,n){e.set(n,null)})}}(),c=function(){try{if((new t.Map).values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(e){}return function(e,t){var n=p.createFixedSize(e.size),r=0;return e.forEach(function(e,i){n[r]=t?e:i,r++}),n}}(),f=function(){function e(){}return e.clone=function(e){return u(e)},e.createFromStringMap=function(e){var n=new t.Map;for(var r in e)n.set(r,e[r]);return n},e.toStringMap=function(e){var t={};return e.forEach(function(e,n){return t[n]=e}),t},e.createFromPairs=function(e){return a(e)},e.clearValues=function(e){s(e)},e.iterable=function(e){return e},e.keys=function(e){return c(e,!1)},e.values=function(e){return c(e,!0)},e}();t.MapWrapper=f;var l=function(){function e(){}return e.create=function(){return{}},e.contains=function(e,t){return e.hasOwnProperty(t)},e.get=function(e,t){return e.hasOwnProperty(t)?e[t]:void 0},e.set=function(e,t,n){e[t]=n},e.keys=function(e){return Object.keys(e)},e.isEmpty=function(e){for(var t in e)return!1;return!0},e["delete"]=function(e,t){delete e[t]},e.forEach=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},e.merge=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},e.equals=function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i,o=0;o<n.length;o++)if(i=n[o],e[i]!==t[i])return!1;return!0},e}();t.StringMapWrapper=l;var p=function(){function e(){}return e.createFixedSize=function(e){return new Array(e)},e.createGrowableSize=function(e){return new Array(e)},e.clone=function(e){return e.slice(0)},e.forEachWithIndex=function(e,t){for(var n=0;n<e.length;n++)t(e[n],n)},e.first=function(e){return e?e[0]:null},e.last=function(e){return e&&0!=e.length?e[e.length-1]:null},e.indexOf=function(e,t,n){return void 0===n&&(n=0),e.indexOf(t,n)},e.contains=function(e,t){return-1!==e.indexOf(t)},e.reversed=function(t){var n=e.clone(t);return n.reverse()},e.concat=function(e,t){return e.concat(t)},e.insert=function(e,t,n){
e.splice(t,0,n)},e.removeAt=function(e,t){var n=e[t];return e.splice(t,1),n},e.removeAll=function(e,t){for(var n=0;n<t.length;++n){var r=e.indexOf(t[n]);e.splice(r,1)}},e.remove=function(e,t){var n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1},e.clear=function(e){e.length=0},e.isEmpty=function(e){return 0==e.length},e.fill=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=null),e.fill(t,n,null===r?e.length:r)},e.equals=function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},e.slice=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=null),e.slice(t,null===n?void 0:n)},e.splice=function(e,t,n){return e.splice(t,n)},e.sort=function(e,t){o.isPresent(t)?e.sort(t):e.sort()},e.toString=function(e){return e.toString()},e.toJSON=function(e){return JSON.stringify(e)},e.maximum=function(e,t){if(0==e.length)return null;for(var n=null,r=-(1/0),i=0;i<e.length;i++){var a=e[i];if(!o.isBlank(a)){var u=t(a);u>r&&(n=a,r=u)}}return n},e}();t.ListWrapper=p,t.isListLikeIterable=r,t.iterateListLike=i;var d=function(){var e=new t.Set([1,2,3]);return 3===e.size?function(e){return new t.Set(e)}:function(e){var n=new t.Set(e);if(n.size!==e.length)for(var r=0;r<e.length;r++)n.add(e[r]);return n}}(),y=function(){function e(){}return e.createFromList=function(e){return d(e)},e.has=function(e,t){return e.has(t)},e["delete"]=function(e,t){e["delete"](t)},e}();t.SetWrapper=y},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return new A(e)}function u(e,t){var n=t.useClass,r=t.useValue,i=t.useExisting,o=t.useFactory,a=t.deps,u=t.multi;return new R(e,{useClass:n,useValue:r,useExisting:i,useFactory:o,deps:a,multi:u})}function s(e){var t,n;if((0,m.isPresent)(e.useClass)){var r=(0,I.resolveForwardRef)(e.useClass);t=j.reflector.factory(r),n=y(r)}else(0,m.isPresent)(e.useExisting)?(t=function(e){return e},n=[M.fromKey(P.Key.get(e.useExisting))]):(0,m.isPresent)(e.useFactory)?(t=e.useFactory,n=d(e.useFactory,e.dependencies)):(t=function(){return e.useValue},n=x);return new N(t,n)}function c(e){return new B(P.Key.get(e.token),[s(e)],e.multi)}function f(e){var t=p(e,[]),n=t.map(c);return k.MapWrapper.values(l(n,new Map))}function l(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t.get(r.key.id);if((0,m.isPresent)(i)){if(r.multiProvider!==i.multiProvider)throw new O.MixingMultiProvidersWithRegularProvidersError(i,r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else t.set(r.key.id,r)}else{var a;a=r.multiProvider?new B(r.key,k.ListWrapper.clone(r.resolvedFactories),r.multiProvider):r,t.set(r.key.id,a)}}return t}function p(e,t){return e.forEach(function(e){if(e instanceof m.Type)t.push(u(e,{useClass:e}));else if(e instanceof R)t.push(e);else{if(!(e instanceof Array))throw e instanceof A?new O.InvalidProviderError(e.token):new O.InvalidProviderError(e);p(e,t)}}),t}function d(e,t){if((0,m.isBlank)(t))return y(e);var n=t.map(function(e){return[e]});return t.map(function(t){return h(e,t,n)})}function y(e){var t=j.reflector.parameters(e);if((0,m.isBlank)(t))return[];if(t.some(m.isBlank))throw new O.NoAnnotationError(e,t);return t.map(function(n){return h(e,n,t)})}function h(e,t,n){var r=[],i=null,o=!1;if(!(0,m.isArray)(t))return t instanceof _.InjectMetadata?v(t.token,o,null,null,r):v(t,o,null,null,r);for(var a=null,u=null,s=0;s<t.length;++s){var c=t[s];c instanceof m.Type?i=c:c instanceof _.InjectMetadata?i=c.token:c instanceof _.OptionalMetadata?o=!0:c instanceof _.SelfMetadata?u=c:c instanceof _.HostMetadata?u=c:c instanceof _.SkipSelfMetadata?a=c:c instanceof _.DependencyMetadata&&((0,m.isPresent)(c.token)&&(i=c.token),r.push(c))}if(i=(0,I.resolveForwardRef)(i),(0,m.isPresent)(i))return v(i,o,a,u,r);throw new O.NoAnnotationError(e,n)}function v(e,t,n,r,i){return new M(P.Key.get(e),t,n,r,i)}var g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderBuilder=t.ResolvedFactory=t.ResolvedProvider_=t.Binding=t.Provider=t.Dependency=void 0,t.bind=a,t.provide=u,t.resolveFactory=s,t.resolveProvider=c,t.resolveProviders=f,t.mergeResolvedProviders=l;var m=n(3),w=n(10),k=n(8),j=n(12),P=n(15),_=n(2),O=n(17),I=n(6),E=function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},S=function(e,t){return"object"===("undefined"==typeof Reflect?"undefined":b(Reflect))&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},M=t.Dependency=function(){function e(t,n,r,i,a){o(this,e),this.key=t,this.optional=n,this.lowerBoundVisibility=r,this.upperBoundVisibility=i,this.properties=a}return g(e,null,[{key:"fromKey",value:function(t){return new e(t,!1,null,null,[])}}]),e}(),x=(0,m.CONST_EXPR)([]),R=t.Provider=function(){function e(t,n){var r=n.useClass,i=n.useValue,a=n.useExisting,u=n.useFactory,s=n.deps,c=n.multi;o(this,e),this.token=t,this.useClass=r,this.useValue=i,this.useExisting=a,this.useFactory=u,this.dependencies=s,this._multi=c}return g(e,[{key:"multi",get:function(){return(0,m.normalizeBool)(this._multi)}}]),e}();t.Provider=R=E([(0,m.CONST)(),S("design:paramtypes",[Object,Object])],R);var C=t.Binding=function(e){function t(e,n){var i=n.toClass,a=n.toValue,u=n.toAlias,s=n.toFactory,c=n.deps,f=n.multi;return o(this,t),r(this,Object.getPrototypeOf(t).call(this,e,{useClass:i,useValue:a,useExisting:u,useFactory:s,deps:c,multi:f}))}return i(t,e),g(t,[{key:"toClass",get:function(){return this.useClass}},{key:"toAlias",get:function(){return this.useExisting}},{key:"toFactory",get:function(){return this.useFactory}},{key:"toValue",get:function(){return this.useValue}}]),t}(R);t.Binding=C=E([(0,m.CONST)(),S("design:paramtypes",[Object,Object])],C);var B=t.ResolvedProvider_=function(){function e(t,n,r){o(this,e),this.key=t,this.resolvedFactories=n,this.multiProvider=r}return g(e,[{key:"resolvedFactory",get:function(){return this.resolvedFactories[0]}}]),e}(),N=t.ResolvedFactory=function D(e,t){o(this,D),this.factory=e,this.dependencies=t},A=t.ProviderBuilder=function(){function e(t){o(this,e),this.token=t}return g(e,[{key:"toClass",value:function(e){if(!(0,m.isType)(e))throw new w.BaseException('Trying to create a class provider but "'+(0,m.stringify)(e)+'" is not a class!');return new R(this.token,{useClass:e})}},{key:"toValue",value:function(e){return new R(this.token,{useValue:e})}},{key:"toAlias",value:function(e){if((0,m.isBlank)(e))throw new w.BaseException("Can not alias "+(0,m.stringify)(this.token)+" to a blank value!");return new R(this.token,{useExisting:e})}},{key:"toFactory",value:function(e,t){if(!(0,m.isFunction)(e))throw new w.BaseException('Trying to create a factory provider but "'+(0,m.stringify)(e)+'" is not a function!');return new R(this.token,{useFactory:e,deps:t})}}]),e}()},function(e,t,n){"use strict";function r(e){return new TypeError(e)}function i(){throw new s("unimplemented")}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(11),u=n(11);t.ExceptionHandler=u.ExceptionHandler;var s=function(e){function t(t){void 0===t&&(t="--"),e.call(this,t),this.message=t,this.stack=new Error(t).stack}return o(t,e),t.prototype.toString=function(){return this.message},t}(Error);t.BaseException=s;var c=function(e){function t(t,n,r,i){e.call(this,t),this._wrapperMessage=t,this._originalException=n,this._originalStack=r,this._context=i,this._wrapperStack=new Error(t).stack}return o(t,e),Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){return this._wrapperMessage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperStack",{get:function(){return this._wrapperStack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalException",{get:function(){return this._originalException},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalStack",{get:function(){return this._originalStack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return a.ExceptionHandler.exceptionToString(this)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.message},t}(Error);t.WrappedException=c,t.makeTypeError=r,t.unimplemented=i},function(e,t,n){"use strict";var r=n(3),i=n(10),o=n(8),a=function(){function e(){this.res=[]}return e.prototype.log=function(e){this.res.push(e)},e.prototype.logError=function(e){this.res.push(e)},e.prototype.logGroup=function(e){this.res.push(e)},e.prototype.logGroupEnd=function(){},e}(),u=function(){function e(e,t){void 0===t&&(t=!0),this._logger=e,this._rethrowException=t}return e.exceptionToString=function(t,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var i=new a,o=new e(i,!1);return o.call(t,n,r),i.res.join("\n")},e.prototype.call=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var i=this._findOriginalException(e),o=this._findOriginalStack(e),a=this._findContext(e);if(this._logger.logGroup("EXCEPTION: "+this._extractMessage(e)),r.isPresent(t)&&r.isBlank(o)&&(this._logger.logError("STACKTRACE:"),this._logger.logError(this._longStackTrace(t))),r.isPresent(n)&&this._logger.logError("REASON: "+n),r.isPresent(i)&&this._logger.logError("ORIGINAL EXCEPTION: "+this._extractMessage(i)),r.isPresent(o)&&(this._logger.logError("ORIGINAL STACKTRACE:"),this._logger.logError(this._longStackTrace(o))),r.isPresent(a)&&(this._logger.logError("ERROR CONTEXT:"),this._logger.logError(a)),this._logger.logGroupEnd(),this._rethrowException)throw e},e.prototype._extractMessage=function(e){return e instanceof i.WrappedException?e.wrapperMessage:e.toString()},e.prototype._longStackTrace=function(e){return o.isListLikeIterable(e)?e.join("\n\n-----async gap-----\n"):e.toString()},e.prototype._findContext=function(e){try{return e instanceof i.WrappedException?r.isPresent(e.context)?e.context:this._findContext(e.originalException):null}catch(t){return null}},e.prototype._findOriginalException=function(e){if(!(e instanceof i.WrappedException))return null;for(var t=e.originalException;t instanceof i.WrappedException&&r.isPresent(t.originalException);)t=t.originalException;return t},e.prototype._findOriginalStack=function(e){if(!(e instanceof i.WrappedException))return null;for(var t=e,n=e.originalStack;t instanceof i.WrappedException&&r.isPresent(t.originalException);)t=t.originalException,t instanceof i.WrappedException&&r.isPresent(t.originalException)&&(n=t.originalStack);return n},e}();t.ExceptionHandler=u},function(e,t,n){"use strict";var r=n(13),i=n(13);t.Reflector=i.Reflector,t.ReflectionInfo=i.ReflectionInfo;var o=n(14);t.reflector=new r.Reflector(new o.ReflectionCapabilities)},function(e,t,n){"use strict";function r(e,t){a.StringMapWrapper.forEach(t,function(t,n){return e.set(n,t)})}var i=n(3),o=n(10),a=n(8),u=function(){function e(e,t,n,r,i){this.annotations=e,this.parameters=t,this.factory=n,this.interfaces=r,this.propMetadata=i}return e}();t.ReflectionInfo=u;var s=function(){function e(e){this._injectableInfo=new a.Map,this._getters=new a.Map,this._setters=new a.Map,this._methods=new a.Map,this._usedKeys=null,this.reflectionCapabilities=e}return e.prototype.isReflectionEnabled=function(){return this.reflectionCapabilities.isReflectionEnabled()},e.prototype.trackUsage=function(){this._usedKeys=new a.Set},e.prototype.listUnusedKeys=function(){var e=this;if(null==this._usedKeys)throw new o.BaseException("Usage tracking is disabled");var t=a.MapWrapper.keys(this._injectableInfo);return t.filter(function(t){return!a.SetWrapper.has(e._usedKeys,t)})},e.prototype.registerFunction=function(e,t){this._injectableInfo.set(e,t)},e.prototype.registerType=function(e,t){this._injectableInfo.set(e,t)},e.prototype.registerGetters=function(e){r(this._getters,e)},e.prototype.registerSetters=function(e){r(this._setters,e)},e.prototype.registerMethods=function(e){r(this._methods,e)},e.prototype.factory=function(e){if(this._containsReflectionInfo(e)){var t=this._getReflectionInfo(e).factory;return i.isPresent(t)?t:null}return this.reflectionCapabilities.factory(e)},e.prototype.parameters=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).parameters;return i.isPresent(t)?t:[]}return this.reflectionCapabilities.parameters(e)},e.prototype.annotations=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).annotations;return i.isPresent(t)?t:[]}return this.reflectionCapabilities.annotations(e)},e.prototype.propMetadata=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).propMetadata;return i.isPresent(t)?t:{}}return this.reflectionCapabilities.propMetadata(e)},e.prototype.interfaces=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).interfaces;return i.isPresent(t)?t:[]}return this.reflectionCapabilities.interfaces(e)},e.prototype.getter=function(e){return this._getters.has(e)?this._getters.get(e):this.reflectionCapabilities.getter(e)},e.prototype.setter=function(e){return this._setters.has(e)?this._setters.get(e):this.reflectionCapabilities.setter(e)},e.prototype.method=function(e){return this._methods.has(e)?this._methods.get(e):this.reflectionCapabilities.method(e)},e.prototype._getReflectionInfo=function(e){return i.isPresent(this._usedKeys)&&this._usedKeys.add(e),this._injectableInfo.get(e)},e.prototype._containsReflectionInfo=function(e){return this._injectableInfo.has(e)},e.prototype.importUri=function(e){return this.reflectionCapabilities.importUri(e)},e}();t.Reflector=s},function(e,t,n){"use strict";var r=n(3),i=n(10),o=function(){function e(e){this._reflect=r.isPresent(e)?e:r.global.Reflect}return e.prototype.isReflectionEnabled=function(){return!0},e.prototype.factory=function(e){switch(e.length){case 0:return function(){return new e};case 1:return function(t){return new e(t)};case 2:return function(t,n){return new e(t,n)};case 3:return function(t,n,r){return new e(t,n,r)};case 4:return function(t,n,r,i){return new e(t,n,r,i)};case 5:return function(t,n,r,i,o){return new e(t,n,r,i,o)};case 6:return function(t,n,r,i,o,a){return new e(t,n,r,i,o,a)};case 7:return function(t,n,r,i,o,a,u){return new e(t,n,r,i,o,a,u)};case 8:return function(t,n,r,i,o,a,u,s){return new e(t,n,r,i,o,a,u,s)};case 9:return function(t,n,r,i,o,a,u,s,c){return new e(t,n,r,i,o,a,u,s,c)};case 10:return function(t,n,r,i,o,a,u,s,c,f){return new e(t,n,r,i,o,a,u,s,c,f)};case 11:return function(t,n,r,i,o,a,u,s,c,f,l){return new e(t,n,r,i,o,a,u,s,c,f,l)};case 12:return function(t,n,r,i,o,a,u,s,c,f,l,p){return new e(t,n,r,i,o,a,u,s,c,f,l,p)};case 13:return function(t,n,r,i,o,a,u,s,c,f,l,p,d){return new e(t,n,r,i,o,a,u,s,c,f,l,p,d)};case 14:return function(t,n,r,i,o,a,u,s,c,f,l,p,d,y){return new e(t,n,r,i,o,a,u,s,c,f,l,p,d,y)};case 15:return function(t,n,r,i,o,a,u,s,c,f,l,p,d,y,h){return new e(t,n,r,i,o,a,u,s,c,f,l,p,d,y,h)};case 16:return function(t,n,r,i,o,a,u,s,c,f,l,p,d,y,h,v){return new e(t,n,r,i,o,a,u,s,c,f,l,p,d,y,h,v)};case 17:return function(t,n,r,i,o,a,u,s,c,f,l,p,d,y,h,v,g){return new e(t,n,r,i,o,a,u,s,c,f,l,p,d,y,h,v,g)};case 18:return function(t,n,r,i,o,a,u,s,c,f,l,p,d,y,h,v,g,b){return new e(t,n,r,i,o,a,u,s,c,f,l,p,d,y,h,v,g,b)};case 19:return function(t,n,r,i,o,a,u,s,c,f,l,p,d,y,h,v,g,b,m){return new e(t,n,r,i,o,a,u,s,c,f,l,p,d,y,h,v,g,b,m)};case 20:return function(t,n,r,i,o,a,u,s,c,f,l,p,d,y,h,v,g,b,m,w){return new e(t,n,r,i,o,a,u,s,c,f,l,p,d,y,h,v,g,b,m,w)}}throw new Error("Cannot create a factory for '"+r.stringify(e)+"' because its constructor has more than 20 arguments")},e.prototype._zipTypesAndAnnotaions=function(e,t){var n;n="undefined"==typeof e?new Array(t.length):new Array(e.length);for(var i=0;i<n.length;i++)"undefined"==typeof e?n[i]=[]:e[i]!=Object?n[i]=[e[i]]:n[i]=[],r.isPresent(t)&&r.isPresent(t[i])&&(n[i]=n[i].concat(t[i]));return n},e.prototype.parameters=function(e){if(r.isPresent(e.parameters))return e.parameters;if(r.isPresent(this._reflect)&&r.isPresent(this._reflect.getMetadata)){var t=this._reflect.getMetadata("parameters",e),n=this._reflect.getMetadata("design:paramtypes",e);if(r.isPresent(n)||r.isPresent(t))return this._zipTypesAndAnnotaions(n,t)}var i=new Array(e.length);return i.fill(void 0),i},e.prototype.annotations=function(e){if(r.isPresent(e.annotations)){var t=e.annotations;return r.isFunction(t)&&t.annotations&&(t=t.annotations),t}if(r.isPresent(this._reflect)&&r.isPresent(this._reflect.getMetadata)){var t=this._reflect.getMetadata("annotations",e);if(r.isPresent(t))return t}return[]},e.prototype.propMetadata=function(e){if(r.isPresent(e.propMetadata)){var t=e.propMetadata;return r.isFunction(t)&&t.propMetadata&&(t=t.propMetadata),t}if(r.isPresent(this._reflect)&&r.isPresent(this._reflect.getMetadata)){var t=this._reflect.getMetadata("propMetadata",e);if(r.isPresent(t))return t}return{}},e.prototype.interfaces=function(e){throw new i.BaseException("JavaScript does not support interfaces")},e.prototype.getter=function(e){return new Function("o","return o."+e+";")},e.prototype.setter=function(e){return new Function("o","v","return o."+e+" = v;")},e.prototype.method=function(e){var t="if (!o."+e+") throw new Error('\""+e+"\" is undefined');\n        return o."+e+".apply(o, args);";return new Function("o","args",t)},e.prototype.importUri=function(e){return"./"},e}();t.ReflectionCapabilities=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.KeyRegistry=t.Key=t.TypeLiteral=void 0;var o=n(16);Object.defineProperty(t,"TypeLiteral",{enumerable:!0,get:function(){return o.TypeLiteral}});var a=n(3),u=n(10),s=n(6),c=t.Key=function(){function e(t,n){if(r(this,e),this.token=t,this.id=n,(0,a.isBlank)(t))throw new u.BaseException("Token must be defined!")}return i(e,[{key:"displayName",get:function(){return(0,a.stringify)(this.token)}}],[{key:"get",value:function(e){return l.get((0,s.resolveForwardRef)(e))}},{key:"numberOfKeys",get:function(){return l.numberOfKeys}}]),e}(),f=t.KeyRegistry=function(){function e(){r(this,e),this._allKeys=new Map}return i(e,[{key:"get",value:function(e){if(e instanceof c)return e;var t=e;if(e instanceof o.TypeLiteral&&(t=e.type),e=t,this._allKeys.has(e))return this._allKeys.get(e);var n=new c(e,c.numberOfKeys);return this._allKeys.set(e,n),n}},{key:"numberOfKeys",get:function(){return this._allKeys.size}}]),e}(),l=new f},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});t.TypeLiteral=function(){function e(){n(this,e)}return r(e,[{key:"type",get:function(){throw new Error("Type literals are only supported in Dart")}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){for(var t=[],n=0;n<e.length;++n){if(c.ListWrapper.contains(t,e[n]))return t.push(e[n]),t;t.push(e[n])}return t}function u(e){if(e.length>1){var t=a(c.ListWrapper.reversed(e)),n=t.map(function(e){return(0,f.stringify)(e.token)});return" ("+n.join(" -> ")+")"}return""}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.MixingMultiProvidersWithRegularProvidersError=t.OutOfBoundsError=t.NoAnnotationError=t.InvalidProviderError=t.InstantiationError=t.CyclicDependencyError=t.NoProviderError=t.AbstractProviderError=void 0;var c=n(8),f=n(3),l=n(10),p=t.AbstractProviderError=function(e){function t(e,n,o){r(this,t);var a=i(this,Object.getPrototypeOf(t).call(this,"DI Exception"));return a.keys=[n],a.injectors=[e],a.constructResolvingMessage=o,a.message=a.constructResolvingMessage(a.keys),a}return o(t,e),s(t,[{key:"addKey",value:function(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}},{key:"context",get:function(){return this.injectors[this.injectors.length-1].debugContext()}}]),t}(l.BaseException);t.NoProviderError=function(e){function t(e,n){return r(this,t),i(this,Object.getPrototypeOf(t).call(this,e,n,function(e){var t=(0,f.stringify)(c.ListWrapper.first(e).token);return"No provider for "+t+"!"+u(e)}))}return o(t,e),t}(p),t.CyclicDependencyError=function(e){function t(e,n){return r(this,t),i(this,Object.getPrototypeOf(t).call(this,e,n,function(e){return"Cannot instantiate cyclic dependency!"+u(e)}))}return o(t,e),t}(p),t.InstantiationError=function(e){function t(e,n,o,a){r(this,t);var u=i(this,Object.getPrototypeOf(t).call(this,"DI Exception",n,o,null));return u.keys=[a],u.injectors=[e],u}return o(t,e),s(t,[{key:"addKey",value:function(e,t){this.injectors.push(e),this.keys.push(t)}},{key:"wrapperMessage",get:function(){var e=(0,f.stringify)(c.ListWrapper.first(this.keys).token);return"Error during instantiation of "+e+"!"+u(this.keys)+"."}},{key:"causeKey",get:function(){return this.keys[0]}},{key:"context",get:function(){return this.injectors[this.injectors.length-1].debugContext()}}]),t}(l.WrappedException),t.InvalidProviderError=function(e){function t(e){return r(this,t),i(this,Object.getPrototypeOf(t).call(this,"Invalid provider - only instances of Provider and Type are allowed, got: "+e.toString()))}return o(t,e),t}(l.BaseException),t.NoAnnotationError=function(e){function t(e,n){return r(this,t),i(this,Object.getPrototypeOf(t).call(this,t._genMessage(e,n)))}return o(t,e),s(t,null,[{key:"_genMessage",value:function(e,t){for(var n=[],r=0,i=t.length;i>r;r++){var o=t[r];(0,f.isBlank)(o)||0==o.length?n.push("?"):n.push(o.map(f.stringify).join(" "))}return"Cannot resolve all parameters for '"+(0,f.stringify)(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+(0,f.stringify)(e)+"' is decorated with Injectable."}}]),t}(l.BaseException),t.OutOfBoundsError=function(e){function t(e){return r(this,t),i(this,Object.getPrototypeOf(t).call(this,"Index "+e+" is out-of-bounds."))}return o(t,e),t}(l.BaseException),t.MixingMultiProvidersWithRegularProvidersError=function(e){function t(e,n){return r(this,t),i(this,Object.getPrototypeOf(t).call(this,"Cannot mix multi providers and regular providers, got: "+e.toString()+" "+n.toString()))}return o(t,e),t}(l.BaseException)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.OpaqueToken=void 0;var a=n(3),u=function(e,t,n,r){var i,a=arguments.length,u=3>a?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":o(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(u=(3>a?i(u):a>3?i(t,n,u):i(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u},s=function(e,t){return"object"===("undefined"==typeof Reflect?"undefined":o(Reflect))&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},c=t.OpaqueToken=function(){function e(t){r(this,e),this._desc=t}return i(e,[{key:"toString",value:function(){return"Token "+this._desc}}]),e}();t.OpaqueToken=c=u([(0,a.CONST)(),s("design:paramtypes",[String])],c)}])});